"use strict";var moduleRouter=function(){function t(){s(!0);var t="/pages/error";fetch(t,{method:"GET"}).then((function(t){return t.text()})).then((function(e){o(t,"Not found",location.origin+"#page=error",e,"replace")})).finally((function(){document.getElementById("errorComponent").appendChild(fallbackLinksComponent)})).catch((function(t){}))}function e(e,a,n){s(!0),fetch(e,{method:"GET"}).then((function(t){if(404!==t.status)return t.text();throw new Error("No template for this page - 404")})).then((function(t){o(e,a,n,t,"push")})).catch((function(e){t()}))}function a(){location.href!==location.origin+location.pathname&&history?history.state?function(){s(!0);var e=history.state.template;fetch(e,{method:"GET"}).then((function(t){return t.text()})).then((function(a){"/pages/error"!==e?o(e,history.state.page,history.state.url,a,"replace"):t()})).catch((function(e){t()}))}():history.back():e(pages[0].templatePath,pages[0].name,pages[0].href)}function n(t,e){return t.classList.remove("u-active"),(t=e).classList.add("u-active"),t}function o(t,e,a,n,o){switch(o){case"push":window.history.pushState({template:t,page:e,url:a},e,a);break;case"replace":window.history.replaceState({template:t,page:e,url:a},e,a);break;default:break}new Promise((function(t,e){if(a.indexOf("#page=projects/")>-1&&"true"!==localStorage.getItem("access")){var n=!0,o=!1,r=void 0;try{for(var s,i=protectedProjectsUrls[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var l=s.value;if(location.hash===l)return void c()}}catch(t){o=!0,r=t}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}t()}else a?t():e("The url does not exist")})).then((function(a){s(!1),document.title=e,wrapTemplate.innerHTML=n,function(t){Array.from(document.getElementsByClassName("js-link--nav")).forEach((function(e){e.classList.remove("u-active"),e.blur(),(location.hash.indexOf("projects")>-1&&"projects"===e.dataset.name.replace(/\s/g,"").toLowerCase()||e.dataset.name.replace(/\s/g,"").toLowerCase()===t.replace(/\s/g,"").toLowerCase())&&e.classList.add("u-active")}))}(e),async function(t){var e=document.getElementsByTagName("script")[document.getElementsByTagName("script").length-1];e.parentNode.removeChild(e);var a=document.createElement("script");a.type="text/javascript",a.defer=!0,a.async=!1,a.src=t+"/index.js";try{404!==(await fetch(a.src,{method:"GET"})).status||(a.src=""),document.body.append(a)}catch(t){return}}(t)}),(function(t){})).finally((function(){return moduleRouter.linksListener("js-link--content")}))}function r(){var t=0,e=setInterval((function(){t<1?(t+=.1,wrapTemplate.style.opacity=t):clearInterval(e)}),25)}function s(t){window.scrollTo(0,0),t?(r(),wrapTemplate.innerHTML='      <div class="l-float">        <div id="loadComponent" class="c-float">          <header class="c-float__header">            <h1 class="c-float__title">Loading</h1>            <svg class="c-float__spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">              <path d="M478.71 364.58zm-22 6.11l-27.83-15.9a15.92 15.92 0 0 1-6.94-19.2A184 184 0 1 1 256 72c5.89 0 11.71.29 17.46.83-.74-.07-1.48-.15-2.23-.21-8.49-.69-15.23-7.31-15.23-15.83v-32a16 16 0 0 1 15.34-16C266.24 8.46 261.18 8 256 8 119 8 8 119 8 256s111 248 248 248c98 0 182.42-56.95 222.71-139.42-4.13 7.86-14.23 10.55-22 6.11z" class="c-btn__ico--alt"/>              <path d="M271.23 72.62c-8.49-.69-15.23-7.31-15.23-15.83V24.73c0-9.11 7.67-16.78 16.77-16.17C401.92 17.18 504 124.67 504 256a246 246 0 0 1-25 108.24c-4 8.17-14.37 11-22.26 6.45l-27.84-15.9c-7.41-4.23-9.83-13.35-6.2-21.07A182.53 182.53 0 0 0 440 256c0-96.49-74.27-175.63-168.77-183.38z" class="c-btn__ico"/>            </svg>          </header>        </div>      </div>',i(document.getElementById("loadComponent"))):t||r()}function c(){wrapTemplate.innerHTML='    <div class="l-float">      <div id="accessComponent" class="c-float">        <header class="c-float__header">          <h1 class="c-float__title">Get access to all projects</h1>        </header>        <p class="c-float__d">          Please <a class="js-link c-link" href="#page=contact" target="_top" data-template="/pages/contact" data-name="Contact" aria-label="Contact page">contact me</a> to get an access token.        </p>        <form class="c-float__form" id="form-access" name="PasswordField" action="">          <div class="c-form__field">            <label class="c-form__label" for="form-password">Password</label>            <input id="form-password" class="c-form__input" type="password" name="password" minlength="1" placeholder="e.g. aBc3?#0O" required>            <span class="c-form__valid"></span>            <p class="c-form__invalid">Password is invalid</p>          </div>          <div class="c-form__field">            <button class="c-btn c-btn--link" type="reset">Clear</button>            <button class="c-btn c-btn--block" type="submit">Log in</button>          </div>        </form>        <p class="c-float__d">          You will not be asked again as long as you do not clear your browsing data or history          (<a class="js-link c-link" href="#page=privacy" target="_top" data-template="/pages/privacy" data-name="Privacy" aria-label="Privacy page">Read more about how to control your privacy settings</a>).        </p>      </div>    </div>';var t=document.getElementById("form-access"),e=document.getElementById("form-password");i(document.getElementById("accessComponent")),t.addEventListener("submit",(function(a){var n=e.value;t.checkValidity()?t.checkValidity()&&"test"!==n?(a.preventDefault(),a.stopImmediatePropagation(),e.classList.add("is-invalid")):t.checkValidity()&&"test"===n&&localStorage.setItem("access","true"):(a.preventDefault(),a.stopImmediatePropagation())})),t.addEventListener("reset",(function(e){confirm("You are about to reset the whole form. Are you happy to proceed?")?t.reset():(e.preventDefault(),e.stopImmediatePropagation())}))}function i(t){t.appendChild(fallbackLinksComponent),document.getElementById("loadBack").addEventListener("click",(function(t){t.preventDefault(),t.stopImmediatePropagation(),history.back()}))}return{linksListener:function(t){!function(t){Array.from(document.getElementsByClassName(t)).forEach((function(t){t.addEventListener("click",(function(t){null!==history.state&&null!==history.state.template&&void 0!==this.dataset&&this.dataset.template===history.state.template||(e(this.dataset.template,this.dataset.name,this.href),t.stopPropagation(),t.preventDefault())}),!1)}))}(t)},hashListener:function(t,e){!function(t,e){var a=document.getElementsByClassName(t)[1].parentNode,o=new IntersectionObserver((function(o){o.forEach((function(o){!0===o.isIntersecting&&(e=o.target.id,a.classList.remove("u-active"),Array.from(document.getElementsByClassName(t)).forEach((function(t){t.blur(),t.dataset.name===e&&(a=n(a,t.parentNode))})))}))}),{threshold:[.75]});Array.from(document.getElementsByClassName(t)).forEach((function(t){t.parentNode.classList.remove("u-active"),a.classList.add("u-active"),o.observe(document.querySelector("#"+t.dataset.name)),t.addEventListener("click",(function(e){a=n(a,t.parentNode);var o=document.getElementById(t.dataset.name),r=o.getBoundingClientRect().top-100;o.focus(),isIE()?window.scrollBy(0,r):window.scrollBy({top:r,behavior:"smooth"}),e.stopPropagation(),e.preventDefault()}),!1)}))}(t,e)},callTemplate:function(){a()},navStateOrHashChange:function(){s(!0),fetch(location.href.replace("#page=","pages/"),{method:"GET"}).then((function(t){if(404!==t.status)return t.text();throw new Error("No template for this page - 404")})).then((function(e){var a=location.hash.replace("#page=","/pages/");if("/pages/error"!==a){var n=!0,r=!1,s=void 0;try{for(var c,i=pages[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var l=c.value,d=l.templatePath;a===d&&o(d,l.name,l.href,e,"replace")}}catch(t){r=!0,s=t}finally{try{!n&&i.return&&i.return()}finally{if(r)throw s}}var p=!0,u=!1,f=void 0;try{for(var m,h=projects[Symbol.iterator]();!(p=(m=h.next()).done);p=!0){var v=m.value,g=v.templatePath;a===g&&o(g,v.name,v.href,e,"replace")}}catch(t){u=!0,f=t}finally{try{!p&&h.return&&h.return()}finally{if(u)throw f}}}else t()})).catch((function(e){t()}))},getErrorPageTemplate:function(){t()},getAccessToken:function(t){!function(t){!(!t||"false"===t)||localStorage.setItem("access","false")}(t)}}}();