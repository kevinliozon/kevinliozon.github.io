"use strict";function _createForOfIteratorHelper(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function asyncGeneratorStep(e,t,a,r,n,o,c){try{var s=e[o](c),i=s.value}catch(e){return void a(e)}s.done?t(i):Promise.resolve(i).then(r,n)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var o=e.apply(t,a);function c(e){asyncGeneratorStep(o,r,n,c,s,"next",e)}function s(e){asyncGeneratorStep(o,r,n,c,s,"throw",e)}c(void 0)}))}}var moduleRouter=function(){function e(){return(e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=document.getElementsByTagName("script")[document.getElementsByTagName("script").length-1]).parentNode.removeChild(a),(r=document.createElement("script")).type="text/javascript",r.defer=!0,r.async=!1,r.src=t+"/index.js",e.prev=7,e.next=10,fetch(r.src,{method:"GET"});case 10:404!==e.sent.status||(r.src=""),document.body.append(r),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}function t(){i(!0);var e="/pages/error";fetch(e,{method:"GET"}).then((function(e){return e.text()})).then((function(t){c(e,"Not found",location.origin+"#page=error",t,"replace")})).finally((function(){document.getElementById("errorComponent").appendChild(fallbackLinksComponent);var e=document.getElementById("loadBack");e&&e.addEventListener("click",(function(e){e.preventDefault(),e.stopImmediatePropagation(),history.back()}))})).catch((function(e){}))}function a(){i(!0);var e=history.state.template;fetch(e,{method:"GET"}).then((function(e){if(404!==e.status&&-1===location.hash.indexOf("#page=error"))return e.text();throw new Error("No template for this page - 404")})).then((function(t){c(e,history.state.page,history.state.url,t,"replace")})).catch((function(e){t()}))}function r(e,a,r){i(!0),fetch(e,{method:"GET"}).then((function(e){if(404!==e.status)return e.text();throw new Error("No template for this page - 404")})).then((function(t){c(e,a,r,t,"push")})).catch((function(e){t()}))}function n(e,t){return e.classList.remove("u-active"),(e=t).classList.add("u-active"),e}function o(){i(!0),fetch(location.href.replace("#page=","pages/"),{method:"GET"}).then((function(e){if(404!==e.status&&-1===location.hash.indexOf("#page=error"))return e.text();throw new Error("No template for this page - 404")})).then((function(e){var t,a=location.hash.replace("#page=","/pages/"),r=_createForOfIteratorHelper(pages);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=n.templatePath;a!==o&&a!==o+"/"||c(a,n.name,n.href,e,"replace")}}catch(e){r.e(e)}finally{r.f()}var s,i=_createForOfIteratorHelper(projects);try{for(i.s();!(s=i.n()).done;){var l=s.value,u=l.templatePath;a!==u&&a!==u+"/"||c(a,l.name,l.href,e,"replace")}}catch(e){i.e(e)}finally{i.f()}})).catch((function(e){t()}))}function c(t,a,r,n,o){switch(o){case"push":window.history.pushState({template:t,page:a,url:r},a,r);break;case"replace":window.history.replaceState({template:t,page:a,url:r},a,r);break;default:break}new Promise((function(e,t){if(r.indexOf("#page=projects/")>-1&&"true"!==localStorage.getItem("access")){var a,n=_createForOfIteratorHelper(protectedProjectsUrls);try{for(n.s();!(a=n.n()).done;){var o=a.value;if(location.hash===o)return void l()}}catch(e){n.e(e)}finally{n.f()}e()}else r?e():t("The url does not exist")})).then((function(r){i(!1),document.title=a,wrapTemplate.innerHTML=n,function(e){for(var t=0,a=Array.from(document.getElementsByClassName("js-link--nav"));t<a.length;t++){var r=a[t];r.classList.remove("u-active"),r.blur(),(location.hash.indexOf("projects")>-1&&"projects"===r.dataset.name.replace(/\s/g,"").toLowerCase()||r.dataset.name.replace(/\s/g,"").toLowerCase()===e.replace(/\s/g,"").toLowerCase())&&r.classList.add("u-active")}}(a),function(t){e.apply(this,arguments)}(t)}),(function(e){})).finally((function(){return moduleRouter.linksListener("js-link")}))}function s(){var e=0,t=setInterval((function(){e<1?(e+=.1,wrapTemplate.style.opacity=e):clearInterval(t)}),25)}function i(e){if(window.scrollTo(0,0),e){s(),wrapTemplate.innerHTML='      <div class="l-float">        <div id="loadComponent" class="c-float">          <header class="c-float__header c-float__header--load">            <h1 class="c-float__title">Loading</h1>            <svg class="c-float__spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">              <path d="M478.71 364.58zm-22 6.11l-27.83-15.9a15.92 15.92 0 0 1-6.94-19.2A184 184 0 1 1 256 72c5.89 0 11.71.29 17.46.83-.74-.07-1.48-.15-2.23-.21-8.49-.69-15.23-7.31-15.23-15.83v-32a16 16 0 0 1 15.34-16C266.24 8.46 261.18 8 256 8 119 8 8 119 8 256s111 248 248 248c98 0 182.42-56.95 222.71-139.42-4.13 7.86-14.23 10.55-22 6.11z" class="c-btn__ico--alt"/>              <path d="M271.23 72.62c-8.49-.69-15.23-7.31-15.23-15.83V24.73c0-9.11 7.67-16.78 16.77-16.17C401.92 17.18 504 124.67 504 256a246 246 0 0 1-25 108.24c-4 8.17-14.37 11-22.26 6.45l-27.84-15.9c-7.41-4.23-9.83-13.35-6.2-21.07A182.53 182.53 0 0 0 440 256c0-96.49-74.27-175.63-168.77-183.38z" class="c-btn__ico"/>            </svg>          </header>        </div>      </div>';var t=document.getElementById("loadComponent");t&&u(t)}else e||s()}function l(){wrapTemplate.innerHTML='    <div class="l-float">      <div id="accessComponent" class="c-float">        <header class="c-float__header">          <h1 class="c-float__title">Get access to all projects</h1>        </header>        <p class="c-float__d">          Please <a class="js-link c-link" href="#page=contact" target="_top" data-template="/pages/contact" data-name="Contact" aria-label="Contact page">contact me</a> to get an access token.        </p>        <form class="c-float__form" id="form-access" name="PasswordField" method="post" action="">          <div class="c-form__field">            <label class="c-form__label" for="form-password">Password</label>            <input id="form-password" class="c-form__input" type="password" name="password" minlength="1" placeholder="e.g. aBc3?#0O" required>            <span class="c-form__valid"></span>            <p class="c-form__invalid">Password is invalid</p>          </div>          <div class="c-form__field">            <button class="c-btn c-btn--link" type="reset">Clear</button>            <button class="c-btn c-btn--block" type="submit">Log in</button>          </div>        </form>        <p class="c-float__d">          You will not be asked again as long as you do not clear your browsing data or history          (<a class="js-link c-link" href="#page=privacy" target="_top" data-template="/pages/privacy" data-name="Privacy" aria-label="Privacy page">Read more about how to control your privacy settings</a>).        </p>      </div>    </div>';var e=document.getElementById("accessComponent"),t=document.getElementById("form-access"),r=document.getElementById("form-password");e&&u(e),t.addEventListener("submit",(function(e){var n=r.value;t.checkValidity()?t.checkValidity()&&"test"!==n?(e.preventDefault(),e.stopImmediatePropagation(),r.classList.add("is-invalid")):t.checkValidity()&&"test"===n&&(e.preventDefault(),e.stopImmediatePropagation(),localStorage.setItem("access","true"),a()):(e.preventDefault(),e.stopImmediatePropagation())})),t.addEventListener("reset",(function(e){confirm("You are about to reset the whole form. Are you happy to proceed?")?t.reset():(e.preventDefault(),e.stopImmediatePropagation())}))}function u(e){if(e){e.appendChild(fallbackLinksComponent);var t=document.getElementById("loadBack");t&&t.addEventListener("click",(function(e){e.preventDefault(),e.stopImmediatePropagation(),history.back()}))}}return{linksListener:function(e){!function(e){for(var t=0,a=Array.from(document.getElementsByClassName(e));t<a.length;t++)a[t].addEventListener("click",(function(e){null!==history.state&&null!==history.state.template&&void 0!==this.dataset&&this.dataset.template===history.state.template||(r(this.dataset.template,this.dataset.name,this.href),e.preventDefault(),e.stopImmediatePropagation())}),!1)}(e)},hashListener:function(e,t){!function(e,t){var a,r=document.getElementsByClassName(e)[1].parentNode,o=new IntersectionObserver((function(a){var o,c=_createForOfIteratorHelper(a);try{for(c.s();!(o=c.n()).done;){var s=o.value;if(!0===s.isIntersecting){t=s.target.id,r.classList.remove("u-active");var i,l=_createForOfIteratorHelper(document.getElementsByClassName(e));try{for(l.s();!(i=l.n()).done;){var u=i.value;u.blur(),u.dataset.name===t&&(r=n(r,u.parentNode))}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){c.e(e)}finally{c.f()}}),{threshold:[.75]}),c=_createForOfIteratorHelper(document.getElementsByClassName(e));try{var s=function(){var e=a.value;e.parentNode.classList.remove("u-active"),r.classList.add("u-active"),o.observe(document.querySelector("#"+e.dataset.name)),e.addEventListener("click",(function(t){r=n(r,e.parentNode);var a=document.getElementById(e.dataset.name),o=a.getBoundingClientRect().top-100;a.focus(),isIE()?window.scrollBy(0,o):window.scrollBy({top:o,behavior:"smooth"}),t.preventDefault(),t.stopImmediatePropagation()}),!1)};for(c.s();!(a=c.n()).done;)s()}catch(e){c.e(e)}finally{c.f()}}(e,t)},callTemplate:function(){location.href!==location.origin+location.pathname&&history?history.state?a():o():r(pages[0].templatePath,pages[0].name,pages[0].href)},navStateOrHashChange:function(){o()},getErrorPageTemplate:function(){t()},getAccessToken:function(e){!function(e){!(!e||"false"===e)||localStorage.setItem("access","false")}(e)}}}();